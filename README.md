# Telegram Review Bot

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è —Å–±–æ—Ä–∞ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –æ—Ç–∑—ã–≤–æ–≤ —Å –¥–≤—É–º—è —Ç–∏–ø–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

- **–û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** ‚Äî –æ—Å—Ç–∞–≤–ª—è—é—Ç –æ—Ü–µ–Ω–∫—É, —Ç–µ–∫—Å—Ç –∏ —Ñ–æ—Ç–æ, –ª–∏—Å—Ç–∞—é—Ç –æ—Ç–∑—ã–≤—ã –ø–æ 5 —à—Ç—É–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É.
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã** ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ—Å—Ç (—Ç–µ–∫—Å—Ç + —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ) –∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –æ—Ç–∑—ã–≤—ã –ø—Ä—è–º–æ –∏–∑ Telegram.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ—Å—Ç —Å –º–µ–¥–∏–∞, —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π –∏–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏;
- –ø–æ—à–∞–≥–æ–≤—ã–π —Å–±–æ—Ä –æ—Ç–∑—ã–≤–æ–≤: —Ä–µ–π—Ç–∏–Ω–≥ 1‚Äì5, —Ç–µ–∫—Å—Ç, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ;
- –ø—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∑—ã–≤–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π (5 –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É) –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ –ø–æ –∫–Ω–æ–ø–∫–µ;
- –∞–¥–º–∏–Ω-—Ä–µ–∂–∏–º –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–≤—Ç–æ—Ä–∞ –æ—Ç–∑—ã–≤–∞ –∏ –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é;
- SQLite-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –∞–≤—Ç–æ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π.

## –°—Ç–µ–∫

- Python 3.12+
- [Aiogram 3](https://docs.aiogram.dev/)
- SQLite (–ª–æ–∫–∞–ª—å–Ω–æ) / PostgreSQL (–Ω–∞ Railway)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –¥–ª—è SQLite

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ admin/           # –ê–¥–º–∏–Ω—Å–∫–∏–µ —Ö–µ–Ω–¥–ª–µ—Ä—ã
‚îú‚îÄ‚îÄ db_manager/      # –†–∞–±–æ—Ç–∞ —Å SQLite
‚îú‚îÄ‚îÄ logic/           # FSM –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ—Ç–∑—ã–≤–æ–≤
‚îú‚îÄ‚îÄ menu/            # –ö–æ–º–∞–Ω–¥–∞ /start –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ utils/           # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
‚îú‚îÄ‚îÄ main.py          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ README.md
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
BOT_TOKEN=123456:ABCDEF               # —Ç–æ–∫–µ–Ω @BotFather
OWNER_ID=123456789                    # –≤–∞—à Telegram ID
ADMIN_IDS=123456789,987654321         # —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: PostgreSQL (–¥–ª—è Railway)
DATABASE_URL=postgresql://user:pass@host:port/dbname

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø—É—Ç—å –∫ SQLite (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é database/database.db)
DATABASE_PATH=database/database.db
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
1. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω `DATABASE_URL` ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL
2. –ò–Ω–∞—á–µ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLite (–ª–æ–∫–∞–ª—å–Ω–æ)

`OWNER_ID` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∞–¥–º–∏–Ω—ã –±–µ—Ä—É—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ `ADMIN_IDS`.

## –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
python -m venv .venv
. .venv/Scripts/activate      # Windows PowerShell
pip install -r requirements.txt
python main.py
```

**–õ–æ–∫–∞–ª—å–Ω–æ** –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite –≤ `database/database.db` (—Ñ–∞–π–ª —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).

**–ù–∞ Railway** —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL ‚Äî –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ.

## –î–µ–ø–ª–æ–π –Ω–∞ Railway

### ‚ö†Ô∏è –í–∞–∂–Ω–æ: –°–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

**Railway –∏–º–µ–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω**, –Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏:
- **500 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã –≤ –º–µ—Å—è—Ü** (–ø—Ä–∏–º–µ—Ä–Ω–æ 16 —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å)
- **$5 –∫—Ä–µ–¥–∏—Ç–æ–≤ –≤ –º–µ—Å—è—Ü** (—Ö–≤–∞—Ç–∞–µ—Ç –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –±–æ—Ç–æ–≤)
- **–≠—Ñ–µ–º–µ—Ä–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞** ‚Äî —Ñ–∞–π–ª—ã SQLite —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ!

### üóÑÔ∏è –†–µ—à–µ–Ω–∏–µ: PostgreSQL (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**PostgreSQL –Ω–∞ Railway —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ** –∏ –Ω–µ —Ç–µ—Ä—è–µ—Ç –∏—Ö –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ.

#### –®–∞–≥–∏ –¥–µ–ø–ª–æ—è:

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ Railway**
   - –ó–∞–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app/) –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub

2. **–î–æ–±–∞–≤—å—Ç–µ PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
   - –í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞–∂–º–∏—Ç–µ **"+ New"** ‚Üí **"Database"** ‚Üí **"Add PostgreSQL"**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL`

3. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   - –í —Ä–∞–∑–¥–µ–ª–µ **Variables** –¥–æ–±–∞–≤—å—Ç–µ:
     ```
     BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
     OWNER_ID=–≤–∞—à_telegram_id
     ADMIN_IDS=id1,id2,id3  (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)
     ```
   - `DATABASE_URL` —É–∂–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è PostgreSQL

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–µ–ø–ª–æ–π**
   - –í **Deployments ‚Üí Settings** —É–∫–∞–∂–∏—Ç–µ:
     - **Start Command**: `python main.py`
     - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ç—è–Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt`

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π**
   - –ù–∞–∂–º–∏—Ç–µ **Deploy** –∏–ª–∏ —Å–¥–µ–ª–∞–π—Ç–µ push –≤ GitHub (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω –∞–≤—Ç–æ‚Äëredeploy)

### üì¶ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: SQLite —Å –±—ç–∫–∞–ø–∞–º–∏

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLite (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):
- –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –±—ç–∫–∞–ø—ã –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
- –ë—ç–∫–∞–ø—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫—É `backups/`
- **–ù–û**: –Ω–∞ Railway —Ñ–∞–π–ª—ã SQLite –≤—Å—ë —Ä–∞–≤–Ω–æ –º–æ–≥—É—Ç –ø–æ—Ç–µ—Ä—è—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ!

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PostgreSQL –Ω–∞ Railway –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.

> üí° –°–æ–≤–µ—Ç: –≤–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ‚Äëredeploy –ø–æ –ø—É—à—É –≤ `main` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Railway CLI (`railway up`) –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏.

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º

### –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

1. –ñ–º—ë—Ç `/start` –∏ –≤–∏–¥–∏—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ—Å—Ç —Å –∫–Ω–æ–ø–∫–∞–º–∏:
   - `üìù –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤` ‚Äî –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ FSM (—Ä–µ–π—Ç–∏–Ω–≥ ‚Üí —Ç–µ–∫—Å—Ç ‚Üí —Ñ–æ—Ç–æ).
   - `üìñ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–∑—ã–≤—ã` ‚Äî –ª–∏—Å—Ç–∞–µ—Ç –ø–æ 5 –æ—Ç–∑—ã–≤–æ–≤, –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ç–æ.
2. –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–∑—ã–≤–∞ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ.

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

1. `/start` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏:
   - `‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∏–≤–µ—Ç` ‚Äî –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–æ–≤—ã–π —Ç–µ–∫—Å—Ç –∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ.
   - `üìö –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç–∑—ã–≤—ã` ‚Äî —Ç–∞ –∂–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—è, –Ω–æ —Å –¥–∞–Ω–Ω—ã–º–∏ –∞–≤—Ç–æ—Ä–∞, –∫–Ω–æ–ø–∫–∞–º–∏ ¬´–û—Ç–≤–µ—Ç–∏—Ç—å ‚ÑñX¬ª –∏ ¬´üóëÔ∏è –£–¥–∞–ª–∏—Ç—å ‚ÑñX¬ª.
   - `‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–µ–æ–¥–æ–±—Ä–µ–Ω–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ–¥–æ–±—Ä–∏—Ç—å, –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å.
2. –ü—Ä–∏ –æ—Ç–≤–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –≤ –ª–∏—á–∫—É, –∞ —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –æ—Ç–∑—ã–≤–∞.
3. –í—Å–µ –Ω–æ–≤—ã–µ –æ—Ç–∑—ã–≤—ã —Ç—Ä–µ–±—É—é—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏ ‚Äî –æ–Ω–∏ –Ω–µ –≤–∏–¥–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –¥–æ –æ–¥–æ–±—Ä–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
python main.py                # –∑–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
pip install -r requirements.txt
python -m compileall .        # –±—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –±–µ–∑ –ª–∏—Ü–µ–Ω–∑–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏ –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –ø–æ–¥ —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏. Contributions welcome!

